<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>fhiRclient • fhiRclient</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="fhiRclient">
<meta property="og:description" content="fhiRclient">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fhiRclient</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fhiRclient.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/qhu75/fhiRclient">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fhiRclient_files/header-attrs-2.5/header-attrs.js"></script><link href="fhiRclient_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="fhiRclient_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>fhiRclient</h1>
            
      
      
      <div class="hidden name"><code>fhiRclient.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The R package is developed to implement the FHIR client with essential features of authentication, CRUD operations, bundle search, and data structures for the FHIR resources. The package is built based on the python library <code>fhircient</code> and S4 class. Tidy-style functions were developed for the clinial data manipulation more friendly.</p>
</div>
<div id="import-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#import-the-package" class="anchor"></a>Import the package</h1>
<p>To get started, first we need to load the package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">fhiRclient</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: reticulate</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span></code></pre></div>
<p>The dependent python <code>fhirclient</code> can be installed from the build-in method. The latest version can be installed from its github repository directly for the version of R4 support.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/install_fhirclient.html">install_fhirclient</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span></code></pre></div>
</div>
<div id="building-connection" class="section level1">
<h1 class="hasAnchor">
<a href="#building-connection" class="anchor"></a>Building connection</h1>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Client.html">Client</a></span><span class="op">(</span>app_id <span class="op">=</span> <span class="st">"my_app"</span>,
             api_base <span class="op">=</span> <span class="st">"https://r4.smarthealthit.org"</span><span class="op">)</span>
<span class="va">ct</span>
<span class="co">#&gt; &lt;class 'fhirclient.client.FHIRClient'&gt; </span>
<span class="co">#&gt; length: 21 </span>
<span class="co">#&gt; names: app_id app_secret authorize_url ...</span></code></pre></div>
</div>
<div id="crud-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#crud-functions" class="anchor"></a>CRUD functions</h1>
<div id="read-a-patient-record" class="section level2">
<h2 class="hasAnchor">
<a href="#read-a-patient-record" class="anchor"></a>Read a Patient record</h2>
<p>To read a patient record and convert it to json list.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Patient.html">Patient</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"326b4675-0bc8-4dbd-b406-a5564c282401"</span><span class="op">)</span><span class="op">)</span>
<span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="va">pt</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="va">as_json</span> <span class="op">%&gt;%</span> <span class="va">as_json_tbl</span>
<span class="co">#&gt; # A tibble: 88 x 2</span>
<span class="co">#&gt;    name                                    value                               </span>
<span class="co">#&gt;    &lt;chr&gt;                                   &lt;chr&gt;                               </span>
<span class="co">#&gt;  1 id                                      326b4675-0bc8-4dbd-b406-a5564c282401</span>
<span class="co">#&gt;  2 meta.lastUpdated                        2020-11-18T02:05:08.474-05:00       </span>
<span class="co">#&gt;  3 meta.tag.code                           synthea-5-2019                      </span>
<span class="co">#&gt;  4 meta.tag.system                         https://smarthealthit.org/tags      </span>
<span class="co">#&gt;  5 meta.versionId                          16                                  </span>
<span class="co">#&gt;  6 extension.extension.url                 ombCategory                         </span>
<span class="co">#&gt;  7 extension.extension.valueCoding.code    2106-3                              </span>
<span class="co">#&gt;  8 extension.extension.valueCoding.display White                               </span>
<span class="co">#&gt;  9 extension.extension.valueCoding.system  urn:oid:2.16.840.1.113883.6.238     </span>
<span class="co">#&gt; 10 extension.extension.url                 text                                </span>
<span class="co">#&gt; # … with 78 more rows</span></code></pre></div>
<p>To read a patient and get the birth date.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="va">pt</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="va">BirthDate</span>
<span class="co">#&gt; [1] "1991-07-20"</span></code></pre></div>
<p>To read a patient and get the full name.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="va">pt</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="va">getName</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "Mr. Bradly Douglas"</span></code></pre></div>
</div>
<div id="create-a-new-patient-record" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-new-patient-record" class="anchor"></a>Create a new Patient record</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pt1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="va">ct</span>, <span class="va">pt</span><span class="op">)</span>
<span class="va">pt1</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">newpt</span> <span class="op">&lt;-</span> <span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="va">pt1</span><span class="op">)</span>
<span class="va">newID</span> <span class="op">&lt;-</span> <span class="va">newpt</span><span class="op">$</span><span class="va">id</span>
<span class="va">newID</span>
<span class="co">#&gt; [1] "774785"</span></code></pre></div>
</div>
<div id="update-a-patient-record" class="section level2">
<h2 class="hasAnchor">
<a href="#update-a-patient-record" class="anchor"></a>Update a patient record</h2>
<p>An example to add middle name and update the record.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pt1</span> <span class="op">&lt;-</span> <span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="fu"><a href="../reference/Patient.html">Patient</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">newID</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">pt1</span> <span class="op">%&gt;%</span> <span class="va">getName</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "Mr. Bradly Douglas"</span>
<span class="va">pt1</span><span class="op">$</span><span class="va">name</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">given</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Bradly"</span>, <span class="st">"Middle"</span><span class="op">)</span>
<span class="va">update</span> <span class="op">&lt;-</span> <span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Update.html">Update</a></span><span class="op">(</span><span class="va">pt1</span><span class="op">)</span>
<span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Read.html">Read</a></span><span class="op">(</span><span class="va">pt1</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="va">getName</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "Mr. Bradly Middle Douglas"</span></code></pre></div>
</div>
<div id="delete-a-patient-record" class="section level2">
<h2 class="hasAnchor">
<a href="#delete-a-patient-record" class="anchor"></a>Delete a patient record</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ct</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/Delete.html">Delete</a></span><span class="op">(</span><span class="va">pt1</span><span class="op">)</span>
<span class="co">#&gt; $resourceType</span>
<span class="co">#&gt; [1] "OperationOutcome"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $issue</span>
<span class="co">#&gt; $issue[[1]]</span>
<span class="co">#&gt; $issue[[1]]$severity</span>
<span class="co">#&gt; [1] "information"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $issue[[1]]$code</span>
<span class="co">#&gt; [1] "informational"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $issue[[1]]$diagnostics</span>
<span class="co">#&gt; [1] "Successfully deleted 1 resource(s) in 7ms"</span></code></pre></div>
</div>
</div>
<div id="bundle-search" class="section level1">
<h1 class="hasAnchor">
<a href="#bundle-search" class="anchor"></a>Bundle search</h1>
<p>The <code>Search</code> function can be used to search for resource bundles with parameters. The <code>page</code> option can be specified to look up results from first page or all pages.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Search.html">Search</a></span><span class="op">(</span><span class="va">ct</span>, <span class="st">"observation"</span>, <span class="st">"Observation"</span>,
              <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>code <span class="op">=</span> <span class="st">"http://loinc.org|2339-0"</span><span class="op">)</span>, page <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span>
<span class="va">res</span>
<span class="co">#&gt; # A tibble: 88,640 x 2</span>
<span class="co">#&gt;    name                       value                                             </span>
<span class="co">#&gt;    &lt;chr&gt;                      &lt;chr&gt;                                             </span>
<span class="co">#&gt;  1 id                         9b41529c-8e1d-4c2e-adf7-840bf47c5216              </span>
<span class="co">#&gt;  2 meta.lastUpdated           2020-11-25T21:55:54.111-05:00                     </span>
<span class="co">#&gt;  3 entry.fullUrl              https://r4.smarthealthit.org/Observation/a8dbb860…</span>
<span class="co">#&gt;  4 entry.resource.id          a8dbb860-4190-46da-af7b-11bf7c7f9ffd              </span>
<span class="co">#&gt;  5 entry.resource.meta.lastU… 2019-06-06T02:51:24.277-04:00                     </span>
<span class="co">#&gt;  6 entry.resource.meta.tag.c… synthea-5-2019                                    </span>
<span class="co">#&gt;  7 entry.resource.meta.tag.s… https://smarthealthit.org/tags                    </span>
<span class="co">#&gt;  8 entry.resource.meta.versi… 3                                                 </span>
<span class="co">#&gt;  9 entry.resource.category.c… laboratory                                        </span>
<span class="co">#&gt; 10 entry.resource.category.c… laboratory                                        </span>
<span class="co">#&gt; # … with 88,630 more rows</span></code></pre></div>
<p>The <code>filterBundle</code> function can be used to extract specific elements. For example, here we extract all the unique reference patients.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/filterBundle.html">filterBundle</a></span><span class="op">(</span><span class="st">'subject'</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="va">unique</span>
<span class="co">#&gt; # A tibble: 269 x 2</span>
<span class="co">#&gt;    name                             value                                       </span>
<span class="co">#&gt;    &lt;chr&gt;                            &lt;chr&gt;                                       </span>
<span class="co">#&gt;  1 entry.resource.subject.reference Patient/948e608d-e408-4788-8cf2-8157c49c2940</span>
<span class="co">#&gt;  2 entry.resource.subject.reference Patient/d48ac962-78c6-46cf-ba33-a24771bfa0e4</span>
<span class="co">#&gt;  3 entry.resource.subject.reference Patient/4d58465c-4703-4c36-ab8f-2f935dc4bee7</span>
<span class="co">#&gt;  4 entry.resource.subject.reference Patient/0ac13d55-d566-450a-aea0-f6a71f1ad73b</span>
<span class="co">#&gt;  5 entry.resource.subject.reference Patient/ecaea95c-46de-4ac9-a58d-4847d1a3e574</span>
<span class="co">#&gt;  6 entry.resource.subject.reference Patient/63c5db14-f5b0-4405-9ff6-0b88601ddb22</span>
<span class="co">#&gt;  7 entry.resource.subject.reference Patient/b218cee9-019d-47a4-b161-e97c0fd6f736</span>
<span class="co">#&gt;  8 entry.resource.subject.reference Patient/32cd9fa4-7a32-4de1-bce2-548e37151540</span>
<span class="co">#&gt;  9 entry.resource.subject.reference Patient/2a86d65b-06c7-4100-9d43-948921b49605</span>
<span class="co">#&gt; 10 entry.resource.subject.reference Patient/6bb3d38f-ae2e-40cf-a31e-baaea0b8bcc1</span>
<span class="co">#&gt; # … with 259 more rows</span></code></pre></div>
<p>We can group the results with indexes and convert it to wide table with patients in different columns.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gres</span> <span class="op">&lt;-</span> <span class="va">res</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/filterBundle.html">filterBundle</a></span><span class="op">(</span><span class="st">"entry.resource"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/group_index.html">group_index</a></span><span class="op">(</span><span class="st">"entry.resource.id"</span><span class="op">)</span>
<span class="va">gres</span>
<span class="co">#&gt; # A tibble: 74,405 x 3</span>
<span class="co">#&gt; # Groups:   entry.resource.id [3,383]</span>
<span class="co">#&gt;    name                  value                         entry.resource.id        </span>
<span class="co">#&gt;    &lt;chr&gt;                 &lt;chr&gt;                         &lt;chr&gt;                    </span>
<span class="co">#&gt;  1 entry.resource.id     a8dbb860-4190-46da-af7b-11bf… a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  2 entry.resource.meta.… 2019-06-06T02:51:24.277-04:00 a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  3 entry.resource.meta.… synthea-5-2019                a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  4 entry.resource.meta.… https://smarthealthit.org/ta… a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  5 entry.resource.meta.… 3                             a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  6 entry.resource.categ… laboratory                    a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  7 entry.resource.categ… laboratory                    a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  8 entry.resource.categ… http://terminology.hl7.org/C… a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt;  9 entry.resource.code.… 2339-0                        a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt; 10 entry.resource.code.… Glucose                       a8dbb860-4190-46da-af7b-…</span>
<span class="co">#&gt; # … with 74,395 more rows</span>
<span class="va">gres</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">44</span>,<span class="op">]</span> <span class="op">%&gt;%</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">entry.resource.id</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 22 x 3</span>
<span class="co">#&gt;    name             `a8dbb860-4190-46da-af7b-11bf… `0c115a64-8e55-411c-bcc3-afe…</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                          &lt;chr&gt;                        </span>
<span class="co">#&gt;  1 entry.resource.… a8dbb860-4190-46da-af7b-11bf7… 0c115a64-8e55-411c-bcc3-afee…</span>
<span class="co">#&gt;  2 entry.resource.… 2019-06-06T02:51:24.277-04:00  2019-06-06T02:51:27.094-04:00</span>
<span class="co">#&gt;  3 entry.resource.… synthea-5-2019                 synthea-5-2019               </span>
<span class="co">#&gt;  4 entry.resource.… https://smarthealthit.org/tags https://smarthealthit.org/ta…</span>
<span class="co">#&gt;  5 entry.resource.… 3                              3                            </span>
<span class="co">#&gt;  6 entry.resource.… laboratory                     laboratory                   </span>
<span class="co">#&gt;  7 entry.resource.… laboratory                     laboratory                   </span>
<span class="co">#&gt;  8 entry.resource.… http://terminology.hl7.org/Co… http://terminology.hl7.org/C…</span>
<span class="co">#&gt;  9 entry.resource.… 2339-0                         2339-0                       </span>
<span class="co">#&gt; 10 entry.resource.… Glucose                        Glucose                      </span>
<span class="co">#&gt; # … with 12 more rows</span></code></pre></div>
</div>
<div id="data-classes" class="section level1">
<h1 class="hasAnchor">
<a href="#data-classes" class="anchor"></a>Data Classes</h1>
<p>Here we have two ways to create a patient model, with <code>Patient</code> functon or a general <code>Model</code> constructor.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Patient.html">Patient</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"pid"</span><span class="op">)</span><span class="op">)</span>
<span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Model.html">Model</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="st">"Patient"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"pid"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The function <code>getModelClass</code> can be used to query all available classes for a model. The general <code>Model</code> function require the resource model name and a data class to build.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/getModelClass.html">getModelClass</a></span><span class="op">(</span><span class="st">"humanname"</span><span class="op">)</span>
<span class="co">#&gt; $HumanName</span>
<span class="co">#&gt; &lt;class 'fhirclient.models.humanname.HumanName'&gt;</span>
<span class="va">hn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Model.html">Model</a></span><span class="op">(</span><span class="st">"humanname"</span>, <span class="st">"HumanName"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"A"</span>, given <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">hn</span>
<span class="co">#&gt; &lt;class 'fhirclient.models.humanname.HumanName'&gt; </span>
<span class="co">#&gt; length: 19 </span>
<span class="co">#&gt; names: as_json didResolveReference elementProperties ...</span>
<span class="fu"><a href="../reference/as_json.html">as_json</a></span><span class="op">(</span><span class="va">hn</span><span class="op">)</span>
<span class="co">#&gt; $family</span>
<span class="co">#&gt; [1] "A"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $given</span>
<span class="co">#&gt; [1] "B" "C"</span></code></pre></div>
</div>
<div id="shiny-demo" class="section level1">
<h1 class="hasAnchor">
<a href="#shiny-demo" class="anchor"></a>Shiny Demo</h1>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ShinyDemo.html">ShinyDemo</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="sessioninfo" class="section level1">
<h1 class="hasAnchor">
<a href="#sessioninfo" class="anchor"></a>SessionInfo</h1>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.0.2 (2020-06-22)</span>
<span class="co">#&gt; Platform: x86_64-apple-darwin19.6.0 (64-bit)</span>
<span class="co">#&gt; Running under: macOS  10.16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; BLAS/LAPACK: /Users/qi28068/homebrew/Cellar/openblas/0.3.10_1/lib/libopenblasp-r0.3.10.dylib</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt; [1] dplyr_1.0.2      fhiRclient_0.0.1 reticulate_1.18 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] Rcpp_1.0.5        later_1.1.0.1     compiler_4.0.2    pillar_1.4.7     </span>
<span class="co">#&gt;  [5] tools_4.0.2       digest_0.6.27     jsonlite_1.7.1    evaluate_0.14    </span>
<span class="co">#&gt;  [9] memoise_1.1.0     lifecycle_0.2.0   tibble_3.0.4      lattice_0.20-41  </span>
<span class="co">#&gt; [13] pkgconfig_2.0.3   rlang_0.4.8       Matrix_1.2-18     cli_2.2.0        </span>
<span class="co">#&gt; [17] shiny_1.5.0       curl_4.3          yaml_2.2.1        pkgdown_1.6.1    </span>
<span class="co">#&gt; [21] xfun_0.19         fastmap_1.0.1     httr_1.4.2        stringr_1.4.0    </span>
<span class="co">#&gt; [25] knitr_1.30        desc_1.2.0        generics_0.1.0    fs_1.5.0         </span>
<span class="co">#&gt; [29] vctrs_0.3.5       systemfonts_0.3.2 rprojroot_2.0.2   grid_4.0.2       </span>
<span class="co">#&gt; [33] tidyselect_1.1.0  glue_1.4.2        R6_2.5.0          textshaping_0.2.1</span>
<span class="co">#&gt; [37] fansi_0.4.1       rmarkdown_2.5     tidyr_1.1.2       purrr_0.3.4      </span>
<span class="co">#&gt; [41] magrittr_2.0.1    promises_1.1.1    htmltools_0.5.0   ellipsis_0.3.1   </span>
<span class="co">#&gt; [45] assertthat_0.2.1  xtable_1.8-4      mime_0.9          httpuv_1.5.4     </span>
<span class="co">#&gt; [49] ragg_0.4.0        utf8_1.1.4        stringi_1.5.3     crayon_1.3.4</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Qiang Hu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
